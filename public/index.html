<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TVAM</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCPCRnEl01GaxbfC5EwWhen_DUOLE2-wZA",
      authDomain: "mytvam-app.firebaseapp.com",
      projectId: "mytvam-app",
      storageBucket: "mytvam-app.firebasestorage.app",
      messagingSenderId: "336382893777",
      appId: "1:336382893777:web:6684804f2c94c101636ff0",
      measurementId: "G-EETD3SZX43"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    window.auth = auth;

    onAuthStateChanged(auth, (user) => {
      if (!user) window.location.href = "login.html";
    });

    window.logout = () => {
      signOut(auth).then(() => window.location.href = "login.html");
    };
  </script>
</head>

<body>
  <!-- GLOBAL PETAL BACKGROUND -->
  <div id="petal-back" class="petal-wrapper size-back rotate-cw">
    <div class="petal"></div>
  </div>

  <div id="petal-middle" class="petal-wrapper size-middle rotate-ccw">
    <div class="petal"></div>
  </div>

  <div id="petal-front" class="petal-wrapper size-front rotate-cw-fast">
    <div class="petal"></div>
  </div>

  <!-- HEADER -->
  <header class="main-header">
    <div class="header-left">
      <img src="assets/beginInwardsLogo.png" alt="Begin Inwards Logo" class="brand-logo">
    </div>

    <div class="header-center">
      <img src="assets/TVAM.png" alt="TVAM Logo" class="tvam-logo">
    </div>

    <div class="header-right">
      <button onclick="openFeedback()" class="feedback-btn-header">
        Feedback
      </button>
    </div>
  </header>

  <!-- SCREEN 1: Welcome -->
  <div class="screen active" id="screen1">
    <div class="welcome-panel">
      <!-- <img src="assets/TVAM.png" alt="TVAM Logo" class="welcome-logo-main" /> -->
      <!-- <p class="welcome-subtitle">Welcome to TVAM</p> -->
      <h2>Welcome to TVAM</h2>
      <p class="welcome-tagline">Thank you for lending us your time!<br>

        You’re about to try an early reflection experience from Begin Inwards — a gentle conversation<br> that helps you
        slow down, listen within, and see things more clearly.<br>
        Nothing you say is stored or analysed.<br>
        This short test helps us understand whether awareness itself can bring calm and clarity</p>
      <button class="begin-btn">Begin</button>
    </div>
    <!-- <button onclick="openFeedback()" class="feedback-btn" title="Feedback"> -->
    <!-- <img src="assets/feedback.png" alt="Feedback" /> -->
    <!-- Share Feedback -->
    <!-- </button> -->

  </div>

  <!-- SCREEN 2: Prelude -->
  <div class="screen" id="screen2">
    <div class="welcome-panel">
      <!-- <img src="assets/TVAM.png" alt="TVAM Logo" class="welcome-logo-main" /> -->
      <!-- <p class="welcome-subtitle">A minute of pause</p> -->
      <h2>A minute of pause</h2>
      <p class="welcome-tagline">Take this minute to breathe.<br>As you breathe turn your gaze inwards, observe what's
        happing within.<br>Do not rush to judge, Do not rush to fix, Just Observe...</p>
      <button id="prelude-btn">Breathe</button>
      <button class="skip-btn">Skip &gt;</button>
    </div>
    <!-- <button onclick="openFeedback()" class="feedback-btn" title="Feedback"> -->
    <!-- <img src="assets/feedback.png" alt="Feedback" /> -->
    <!-- Share Feedback -->
    <!-- </button> -->
  </div>

  <!-- SCREEN 3: Breathing Timer -->
  <div class="screen" id="screen3">
    <div class="welcome-panel">
      <!-- <img src="assets/TVAM.png" alt="TVAM Logo" class="welcome-logo-main" /> -->
      <!-- <p class="welcome-subtitle">Let it settle...</p> -->
      <!-- <p class="welcome-tagline">Notice the breath.</p> -->
      <div class="breathing-circle">
        <div class="countdown" id="countdown">60</div>
        <!-- <span id="breathingText">Breathe In</span> -->
      </div>

      <button class="skip-btn">Skip &gt;</button>
    </div>
    <!-- <button onclick="openFeedback()" class="feedback-btn" title="Feedback"> -->
    <!-- <img src="assets/feedback.png" alt="Feedback" /> -->
    <!-- Share Feedback -->
    <!-- </button> -->
  </div>

  <!-- SCREEN 4: Spiritual Guru Chat -->
  <div class="screen" id="screen4">
<!-- INFO PANEL (hidden by default) -->
<div id="infoOverlay" class="info-overlay hidden">
  <div class="info-wrapper">
<button id="infoClose" class="info-close">✕</button>
  <div class="info-panel">
    
    <h3>Before You Start</h3>
    <p>
      This is a quiet place to talk about what you’re feeling.<br>
      TVAM won’t give you solutions or tell you what to do.<br>
      It will help you look at what’s happening inside, one small step at a time.
      <br><br>
      A tiny change is all we aim for — feeling a little clearer or a little lighter.
      <br><br>
      <strong>Here are a few things that help the chat work well:</strong><br>
      • Talk about one feeling or one problem at a time.<br>
      • Use short, simple messages.<br>
      • When TVAM asks a question, take a small pause before answering.<br>
      • If something doesn’t make sense, say “I don’t get it.”<br>
      • Try not to ask for advice — we’re just looking together.<br>
      • A “shift” is small: feeling calmer, clearer, or less tangled.<br>
      • You can stop anytime by saying, “That’s enough.”<br><br>
      When you’re ready, begin with:<br>
      <em>“Right now, I feel…”</em>
    </p>
  </div>
  </div>
  
</div>

<!-- INFO BUTTON (top-right small icon) -->
<button id="infoBtn" class="info-btn">
  <img src="assets/info.png" alt="Info" />
</button>

    <!-- Chat area -->
    <div class="chat-container">
      <div id="messages" class="messages-list"></div>
    </div>

    <!-- Chat Input -->
    <div class="chat-input-container">
      <div class="chat-input-wrapper">
        <button id="mic-btn" class="icon-btn mic-btn" title="Speak">
          <img src="assets/mic.svg" alt="Mic" />
        </button>
        <textarea id="userInput" rows="1" placeholder="What's on your mind"></textarea>
        <button id="send-btn" class="icon-btn send-btn" title="Send">
          <img src="assets/send.svg" alt="Send" />
        </button>
      </div>
    </div>

    <!-- Voice toggle -->
  <button onclick="toggleVoice()" class="voice-mute" id="voiceBtn">
    <img src="assets/voice-off.png" id="voiceOffIcon" class="icon">
    <img src="assets/voice-on.png" id="voiceOnIcon" class="icon hidden">
  </button>

    

    <!-- Back button -->
    <button onclick="goBack()" class="go-back" id="goBackBtn" title="Go back">
      <img src="assets/goBack.png" id="go-back-btn">
    </button>

  </div>


  <footer class="footer">
    <p class="copyright">
      &copy; 2025 <strong>Begin Inwards, Inc.</strong> All rights reserved.
    </p>

    <nav class="footer-links" aria-label="Footer navigation">
      <a href="terms.html" target="_blank" rel="noopener noreferrer">Terms & Conditions</a>
      <span aria-hidden="true">|</span>
      <a href="privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
      <span aria-hidden="true">|</span>
      <a href="#" onclick="logout()">Logout</a>
    </nav>
  </footer>



  <script type="module" src="js/main.js"></script>
</body>

</html>